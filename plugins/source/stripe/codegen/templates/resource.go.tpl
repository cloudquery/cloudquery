// Code generated by codegen; DO NOT EDIT.

package {{.Service}}

import (
	"github.com/cloudquery/plugin-sdk/schema"
{{- if .ImportClient}}
	"github.com/cloudquery/cloudquery/plugins/source/stripe/client"
{{- end}}
{{- if .GenerateResolver}}
	"context"
	"github.com/stripe/stripe-go/v74"
{{- end}}
)

func {{.TableFuncName}}() *schema.Table {
    return &schema.Table{{template "table.go.tpl" .Table}}
}

{{- if .GenerateResolver}}

func {{.ResolverFuncName}}(ctx context.Context, meta schema.ClientMeta, parent *schema.Resource, res chan<- any) error {
		cl := meta.(*client.Client)

		it := cl.Services.{{.SubService | ToPascal | Pluralize}}.List(&stripe.{{.SubService | ToPascal}}ListParams{})
		for it.Next() {
			res <- it.{{.SubService | ToPascal}}()
		}
		return it.Err()
}
{{- end}}
