```yaml copy
kind: destination
spec:
  name: "clickhouse"
  registry: "github"
  path: "cloudquery/clickhouse"
  version: "VERSION_DESTINATION_CLICKHOUSE"
# write_mode: "append"
  spec:
    connection_string: "clickhouse://${CH_USER}:${CH_PASSWORD}@localhost:9000/${CH_DATABASE}"
    # Optional parameters:
    # cluster: CLICKHOUSE_CLUSTER_NAME
    # ca_cert: ${CA_CERT}
    # engine:
    #   name: ReplicatedMergeTree
    #   parameters:
    #   - "/clickhouse/tables/{shard}/{database}/{table}"
    #   - "{replica}"
    #
    # Batching options
    # batch_size:       10000   # 10K entries
    # batch_size_bytes: 5242880 # 5 MiB
    # batch_timeout:    20s
```

This example configures a ClickHouse instance, located at `localhost:9000`.
It expects `CH_USER`, `CH_PASSWORD` and `CH_DATABASE` environment variables to be set.
The (top level) spec section is described in the [Destination Spec Reference](/docs/reference/destination-spec).