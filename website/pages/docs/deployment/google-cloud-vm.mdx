---
title: Deploying CloudQuery to a Google Cloud Virtual Machine
tag: tutorial
date: 2023/06/08
---

# Deploying CloudQuery to a Google Cloud Virtual Machine (VM)

In this tutorial we will install CloudQuery on a Google Cloud Virtual Machine (VM). We will then set up a cron schedule to run a regular CloudQuery sync. Running CloudQuery on a VM like this is one of the simplest ways to get started with CloudQuery on the Google Cloud Platform ecosystem.

<iframe width="100%" height="480"
src="https://www.youtube.com/embed/rz4aU1IMF30">
</iframe>

## Prerequisites

- A Google Cloud account. You can [sign up here](https://cloud.google.com/).
- A Google Cloud Project with billing enabled
- The following APIs enabled on the project, at a minimum:
  * Compute Engine API
  * Cloud Logging API
  * Cloud SQL Admin API
  * Cloud Resource Manager API
  You can enable these APIs by going to the [APIs & Services](https://console.cloud.google.com/apis/dashboard) section of the Google Cloud Console and clicking on **Enable APIs and Services**.

## Step 1: Create a Google Cloud Virtual Machine

1. Go to the [Google Cloud Console](https://console.cloud.google.com/) and select your project.
2. Click on the hamburger menu in the top left corner and select **Compute Engine**.
3. Click on **Create Instance**.
4. Give your instance a name and select a region and zone.
5. Select a machine type. We recommend using a machine with at least 2 vCPUs and 8GB of memory. The required size will vary depending on the size of your dataset you are syncing and how you configure the concurrency of the sync.
6. Create the instance

## Step 2: Install CloudQuery

1. SSH into your instance. You can do this by clicking on the SSH button next to your instance in the Google Cloud Console.
2. Download CloudQuery by running the following command from the [Quickstart guide for Linux](https://www.cloudquery.io/docs/quickstart/linux):

```bash copy
curl -L https://github.com/cloudquery/cloudquery/releases/download/cli-vVERSION_CLI/cloudquery_linux_amd64 -o cloudquery
chmod a+x cloudquery
```

## Step 3: Create a Cloud SQL Instance

## Step 4: Add a database and user

## Step 5: Configure CloudQuery

## Step 6: Add IAM roles

## Step 7: Run a Sync

## Step 8: Query the data

## Step 9: Set up a cron schedule

## Summary

