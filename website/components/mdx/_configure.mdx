import { Callout } from 'nextra-theme-docs';
import ConfigureSyncCommandLinux from './_configure-sync-command-linux.mdx';
import ConfigureSyncCommandWindows from './_configure-sync-command-windows.mdx';
import ConfigureSyncCommandMacos from './_configure-sync-command-macos.mdx';
import InitCommandLinux from './_configure-init-command-linux.mdx';
import InitCommandWindows from './_configure-init-command-windows.mdx';
import InitCommandMacos from './_configure-init-command-macos.mdx';
import SqliteCommandLinux from './_configure-sqlite-command-linux.mdx';
import SqliteCommandWindows from './_configure-sqlite-command-windows.mdx';
import SqliteCommandMacos from './_configure-sqlite-command-macos.mdx';

{/* <!-- vale off --> */}
export const SyncCommand = ({ os }) => {
    switch (os) {
        case "linux":
            return <ConfigureSyncCommandLinux />
        case "windows":
            return <ConfigureSyncCommandWindows />
        case "macos":
            return <ConfigureSyncCommandMacos />
        default:
            return <ConfigureSyncCommandMacos />
    }
}

export const InitCommand = ({ os }) => {
    switch (os) {
        case "linux":
            return <InitCommandLinux />
        case "windows":
            return <InitCommandWindows />
        case "macos":
            return <InitCommandMacos />
        default:
            return <InitCommandMacos />
    }
}

export const SqliteCommand = ({ os }) => {
    switch (os) {
        case "linux":
            return <SqliteCommandLinux />
        case "windows":
            return <SqliteCommandWindows />
        case "macos":
            return <SqliteCommandMacos />
        default:
            return <SqliteCommandMacos />
    }
}

{/* <!-- vale on --> */}
## Create a Sync Configuration

CloudQuery supports many [sources](https://hub.cloudquery.io/plugins/source) and [destinations](https://hub.cloudquery.io/plugins/destination).

In this guide we'll create a configuration to sync from the [XKCD source](https://hub.cloudquery.io/plugins/source/cloudquery/xkcd/latest/docs) to the [SQLite destination](https://hub.cloudquery.io/plugins/destination/cloudquery/sqlite/latest/docs) using the [`init`](/docs/reference/cli/cloudquery_init) command.

Run the following command to create a configuration file:

<InitCommand os={props.os} />

<Callout type="info">
To pick from a list of available sources and destinations, run the [`init`](/docs/reference/cli/cloudquery_init) command without any arguments.
</Callout>

## Start Syncing

Run the following command to start syncing:

<SyncCommand os={props.os} />

You should see a spinner with number of resources synced and the time it took to sync.

<Callout type="info">
To learn about the available options for the [`sync`](/docs/reference/cli/cloudquery_sync) command, run `cloudquery sync --help`.
</Callout>

## Examine the Data

Once the sync is done you can query the data via the database directly via the [`sqlite3`](https://www.sqlite.org/cli.html) command line tool or any other SQLite client.

Run the following command to get the oldest 10 XKCD comics:

<SqliteCommand os={props.os} />

The output should look like this:

```
num  title                                             
---  --------------------------------------------------
1    Barrel - Part 1                                   
2    Petit Trees (sketch)                              
3    Island (sketch)                                   
4    Landscape (sketch)                                
5    Blown apart                                       
6    Irony                                             
7    Girl sleeping (Sketch -- 11th grade Spanish class)
8    Red spiders                                       
9    Serenity is coming out tomorrow                   
10   Pi Equals
```